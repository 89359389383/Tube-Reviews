<!DOCTYPE html>
<html>
<head>
  <title>TubeReviews</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>

  <!-- Include the custom stylesheet -->
  <%= stylesheet_link_tag 'custom', media: 'all', 'data-turbo-track': 'reload' %>
  <%= turbo_include_tags %>
  <%= javascript_include_tag 'application' %>
  
  <style>
    .flash-container {
      text-align: center;
      z-index: 10;
    }

    .flash {
      margin: 10px auto; /* 上下のマージンを追加 */
      padding: 10px;
      background-color: #fff3cd; /* 薄い黄色に変更 */
      border-color: #ffeeba;
      color: #856404;
      border-radius: 4px;
      width: 60%;
    }

    body {
      /* flash-container との間隔設定を削除 */
    }
  </style>
</head>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('a[data-method]').forEach(function(link) {
      link.addEventListener('click', function(event) {
        console.log('UJS link clicked:', event.target);
      });
    });
  });
</script>
<body>
  <% if controller_name == 'sessions' && action_name == 'new' %>
    <div class="text-center py-3" style="background-color: blue; color: white; font-size: 24px;">
      TubeReviews
    </div>
  <% end %>
  
  <div class="flash-container">
    <% flash.each do |key, value| %>
      <div class="flash <%= key %>"><%= value %></div>
    <% end %>
  </div>

  <% if user_signed_in? %>
    <%= form_with url: destroy_user_session_path, method: :delete, local: true do %>
      <%= submit_tag "Logout" %>
    <% end %>
  <% else %>
    <%= link_to "Login", new_user_session_path %>
  <% end %>

  <%= yield %>
</body>
</html> 